package com.zeti.drools.droolsRules

import com.zeti.drools.entity.Commodity
import java.math.BigDecimal
import org.slf4j.LoggerFactory
import org.slf4j.Logger

dialect "java"

rule "discount_01"
    salience 99 #优先级
    when $commodity : Commodity(price >= 1000)

    then
    Logger log = LoggerFactory.getLogger("规则引擎:");
    log.info("优惠100！");
    setDiscount1($commodity);
    update($commodity)

end

function void setDiscount1(Commodity commodity) {
    commodity.setDiscount(new BigDecimal("100"));
}

function void setDiscount2(Commodity commodity) {
    System.out.println("优惠300");
    commodity.setDiscount(new BigDecimal("300"));
}
